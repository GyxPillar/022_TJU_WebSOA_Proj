# 修订历史

| 编写日期  | SEPG | 版本   | 说明                   | 作者                         |
| --------- | ---- | ------ | ---------------------- | ---------------------------- |
| 2022.11.4 |      | v0.0.1 | 完成项目介绍与需求分析 | 陈元哲，方仪，白珂睿，高骏骋 |


<div style="page-break-after: always;"></div>

# 目录

[TOC]

<div style="page-break-after: always;"></div>

# 1 介绍

随着经济的发展与人们生活水平的提高，线下演出，现场体验是越来越受欢迎的娱乐方式。演出作为文化产业的终端输出方式，涉及娱乐、音乐、电影、体育、游戏等创意文化产业。票务是线下演艺行业对消费者的“门面”，是消费者对文化内容消费的第一步，对形成良好的消费体验直观重要。近年来互联网技术的发展，让更多人选择线上购票的方式。我们希望以此为契机，打造一个由票务链接的演艺生态圈，让用户获得更好的票务消费体验，瞄准用户痛点，创造一个更好的互联网票务环境。

本项目包括商家、用户、管理员三个主体。核心功能为商家与用户之间的票务交易，我们引入了与票务产品互相绑定的现场分享功能，既是用户对演出美好瞬间的记录也是对商家演出的评价与反馈。针对传统购票平台出现的黄牛倒卖导致的购票难、用户个人原因无法参与演出而导致的转卖难等问题，我们做出功能性的优化，充分保障消费者的权益。为了维护良好的社区氛围，我们引入了管理员角色，为演出的举办以及用户发布的分享等信息进行审核，保障一个健康的互联网交流环境。

项目的名称为“一排一座”，指的是剧场中第一排离演员最近的位置，通常是预留给演员们的赠票以邀请对他们而言重要的客人。每一位用户都是我们珍视的对象，我们希望我们的服务能带给我们的用户一排一座的体验。

# 5 功能性需求描述

## 5.2 注册登录系统

在注册登录系统中，主要应当完成以下功能需求：

1. 游客可以通过填写手机号码等信息，注册成为票务平台用户
2. 游客可以通过手机号登录为用户
3. 对于系统赋予权限的管理员账号，也可以通过用户名和密码进行登录

![pic](C:\Course\软件工程\Assign\doc1\pic\用例图-注册与登录系统.svg)

### 5.2.1 注册用例分析

| 用例              | 注册                                                         |
| ----------------- | :----------------------------------------------------------- |
| ID                | UC01                                                         |
| Specification     | 游客填写基本信息并注册为用户                                 |
| Actors            | 游客                                                         |
| Pre-condition     | 游客打开票务平台，进入注册页面                               |
| Flow of Events    | 1. 游客进入注册页面，以下情况会导致游客进入注册页面<br/>  1.1 游客点击页面中“注册”按钮<br />  1.2 游客进行了需要登录用户才能执行的权限操作，进入了登录界面，经过系统指引后进入注册界面<br />2. 用户填写基本注册信息:<br/>&nbsp;&nbsp;2.1 用户填写手机号码并选择自己的常驻城市<br/>&nbsp;&nbsp;2.2 用户设置昵称与密码<br/>3. 系统验证用户填写的手机号格式是否正确以及手机号是否被注册<br/>4. 用户点击“发送验证码”按钮，之后填写从手机短信上获得的验证码<br/>5. 系统验证并记录用户的信息，返回状态信息<br />6. 注册用例结束 |
| Alternative Flows | 1. 用户可在注册的任何阶段关闭/退出页面<br/>2. 用户在注册时可能会出现的错误<br/>&nbsp;&nbsp;2.1 用户输入错误的手机号<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;系统将会提示“错误的手机号”并返回注册页面<br/>&nbsp;&nbsp;2.2 用户输入已注册的手机号<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;系统将会提示“改手机号已注册”并返回注册页面<br/>&nbsp;&nbsp;2.3 用户未收到验证码<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;系统允许用户在30s后重新发送一次验证码<br/>&nbsp;&nbsp;2.4 用户输入了错误的验证码<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;系统提示“错误的验证码”，之后用户可以重新输入验证码 |
| Post-condition    | 用户获得了一个账户，并成为已注册用户。                       |

### 5.2.2 登录用例分析

|用例|登录|
|---|---|
|ID|UC02|
|Specification|游客输入手机号与密码\手机号与短信认证登录账户|
|Actors|游客|
|Pre-condition|游客打开票务平台，进入登录页面|
|Flow of Events|1. 游客进入登录界面，以下情况会导致游客进入登录界面<br/>  1.1 游客点击页面中“登录”按钮<br />  1.2 游客进行了需要登录用户才能执行的权限操作<br/>2. 用户可选择登录方式，使用手机号与密码登录以及使用手机号短信认证登录，默认为使用手机号与密码登录<br />  2.1 选择手机号与密码登录，用户填写手机号与密码<br />  2.2 选择手机号与短信验证登录，用户填写手机号后点击“发送验证码”按钮<br />3. 用户点击“登录”按钮，系统对用户输入信息进行验证，返回状态信息<br/>4. 用户根据登录状态决定下一步操作<br />5. 登录用例结束|
|Alternative Flows|1. 用户可在登录的任何阶段关闭/退出页面 <br />2. 用户输入错误的账户信息<br/>&nbsp;&nbsp;2.1 用户输入了无效的手机号<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;系统拒绝登录，并提示"不存在的账户"<br/>&nbsp;&nbsp;2.2 用户输入错误的密码<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;系统拒绝登录，并提示"错误的密码"<br/>&nbsp;&nbsp;2.3 用户输入三次错误的密码后<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;系统登录时要求用户输入图片验证码<br />3. 用户点击”忘记密码“按钮<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;用户进入找回密码流程|
|Post-condition|游客身份转换为已登录用户|

### 5.2.3 找回密码用例分析

| 用例              | 找回密码                                                     |
| ----------------- | ------------------------------------------------------------ |
| ID                | UC03                                                         |
| Specification     | 游客忘记了自己的账号密码，重设密码                           |
| Actors            | 游客                                                         |
| Pre-condition     | 游客拥有一个已注册的账户                                     |
| Flow of Events    | 1. 游客进入网站，点击“找回密码”按钮<br />2. 用户输入手机号，点击“发送验证码”按钮<br />3. 第三方平台验证信息，若验证码正确可进行下一步操作<br/>4. 用户输入新密码，并进行二次确认<br />5. 找回密码用例结束 |
| Alternative Flows | 1. 用户可在找回密码的任何阶段关闭/退出页面<br />2. 用户输入错误的账户信息<br/>&nbsp;&nbsp;1.1 用户输入了无效的手机号<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;系统拒绝验证，并提示"不存在的账户"<br/>&nbsp;&nbsp;1.2 用户在二次确认时输入错误的密码<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;系统拒绝密码找回，并提示"错误的密码"<br/> |
| Post-condition    | 用户重设了账户密码，游客身份转换为已登录用户                 |

### 5.2.4 短信验证码验证用例分析

| 用例              | 短信验证码验证                                               |
| ----------------- | ------------------------------------------------------------ |
| ID                | UC04                                                         |
| Specification     | 在注册、登录、找回密码时，用户需要SMS短信安全认证            |
| Actors            | 游客                                                         |
| Pre-condition     | 游客在所处的注册、登录、找回密码界面进行短信认证             |
| Flow of Events    | 1. 用户按照提示输入手机号，点击“发送验证码”按钮<br />2. 系统检查用户输入手机格式，若格式正确且符合其它前置条件，则向第三方认证平台接口发送用户手机号<br />3. 第三方平台向用户手机发送验证码短信<br/>4. 用户填写收到的验证码，并点击“确认”按钮<br />5. 短信验证码验证用例结束 |
| Alternative Flows | 1. 用户可在短信验证码验证的任何阶段关闭/退出页面<br />2. 验证过程出现异常<br/>&nbsp;&nbsp;1.1 用户输入了无效的手机号<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;系统拒绝验证，并提示"不存在的账户"<br/>&nbsp;&nbsp;1.2 用户在二次确认时输入错误的密码<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;系统拒绝密码找回，并提示"错误的密码"<br/>  1.3 用户未收到验证码<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;系统允许用户在30s后重新发送一次验证码<br/>&nbsp;&nbsp;1.4 用户输入了错误的验证码<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;系统提示“错误的验证码”，之后用户可以重新输入验证码或等待30s后重新发送验证码<br/> |
| Post-condition    | 用户经验证后被赋予了相关操作权限                             |

